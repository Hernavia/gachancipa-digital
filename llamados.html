<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Llamados al Pueblo — Gachancipá</title>
<link rel="stylesheet" href="style.css">
<style>
  .llamados-container { max-width:1100px; margin:40px auto; padding:20px; }
  .votacion, details.votacion { background:#fff; border:2px solid #000; border-radius:10px; padding:12px; margin-top:10px; }
  .votacion h4 { margin:0; }
  .votacion button { padding:8px 14px; margin-right:6px; border:none; border-radius:6px; cursor:pointer; font-weight:bold; transition:0.3s; }
  .votacion button:hover { background:#078930; color:#fff; }
  .resultado { margin-top:8px; font-weight:bold; }
</style>
</head>
<body>
<header>
  <h1>Llamados al Pueblo</h1>
  <div class="header-box"><p>Participa en las decisiones ciudadanas de Gachancipá</p></div>
</header>

<nav class="navbar">
  <ul>
    <li><a href="index.html">Inicio</a></li>
    <li><a href="archivos.html">Archivos</a></li>
    <li><a href="calendario.html">Calendario</a></li>
    <li><a href="cronicas.html">Cronicas</a></li>
    <li><a href="educacion.html">Educación</a></li>
    <li><a href="proyectos.html">Proyectos</a></li>
    <li><a href="llamados.html" class="active">Llamados al Pueblo</a></li>
    <li><a href="wikigacha.html">Enciclopedia Gachancipeña</a></li>
  </ul>
</nav>

<section class="search-controls">
  <h2>Filtrar por categoría</h2>
  <div class="filtros">
    <label for="categoriaSelect">Categoría:</label>
    <select id="categoriaSelect">
      <option value="presupuesto">Presupuesto</option>
      <option value="cultura">Cultura</option>
    </select>
  </div>
</section>

<main class="llamados-container">

  <!-- Categoría: Presupuesto -->
  <article class="categoria" data-categoria="presupuesto">
    <h2>Presupuesto</h2>

    <!-- Votación finalizada -->
    <details class="votacion">
      <summary>Presupuesto Municipal 2025 — 15/10/2025</summary>
      <p>Se aprobó el presupuesto municipal 2025 con los siguientes puntos clave...</p>
      <p class="resultado">Resultado: Aprobado 75% Sí / 25% No</p>
    </details>

    <!-- Votación abierta -->
    <div class="votacion abierta" data-date="2025-10-31">
      <h3>Presupuesto Extraordinario 2025</h3>
      <p>Se propone un presupuesto extraordinario para obras de infraestructura. ¿Estás de acuerdo?</p>
      <button class="vote-btn" data-vote="si">Sí</button>
      <button class="vote-btn" data-vote="no">No</button>
      <p class="resultado"></p>
    </div>
  </article>

  <!-- Categoría: Cultura -->
  <article class="categoria" data-categoria="cultura" style="display:none;">
    <h2>Cultura</h2>

    <!-- Votación finalizada -->
    <details class="votacion">
      <summary>Feria Cultural 2025 — 01/10/2025</summary>
      <p>Se realizó la feria cultural con diversas actividades artísticas y educativas.</p>
      <p class="resultado">Resultado: Exitosa 80% Sí / 20% No</p>
    </details>

    <!-- Votación abierta -->
    <div class="votacion abierta" data-date="2025-10-20">
      <h3>Consulta sobre taller de música</h3>
      <p>Se propone iniciar talleres de música en la ciudad. ¿Quieres que se haga?</p>
      <button class="vote-btn" data-vote="si">Sí</button>
      <button class="vote-btn" data-vote="no">No</button>
      <p class="resultado"></p>
    </div>
  </article>

</main>

<script>
// Filtrado por categoría
const categoriaSelect = document.getElementById('categoriaSelect');
const categorias = document.querySelectorAll('.categoria');

categoriaSelect.addEventListener('change', () => {
  const valor = categoriaSelect.value;
  categorias.forEach(cat => {
    cat.style.display = (cat.dataset.categoria === valor) ? 'block' : 'none';
  });
});

// Manejo de votos
const voteButtons = document.querySelectorAll('.vote-btn');
voteButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    const parent = btn.closest('.votacion');
    const resultado = parent.querySelector('.resultado');

    // Simular porcentajes aleatorios
    const si = Math.floor(Math.random() * 100);
    const no = 100 - si;
    resultado.textContent = `Resultado actual: ${si}% Sí / ${no}% No`;
  });
});
</script>
</body>
</html>
