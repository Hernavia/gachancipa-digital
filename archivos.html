<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Archivos — Gachancipá Digital</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Archivos Municipales</h1>
  <div class="header-box">
    <p>Repositorio cívico de Hernavia — Gachancipá</p>
  </div>
</header>

<nav class="navbar">
  <ul>
    <li><a href="https://hernavia.github.io/gachancipa-digital/">Inicio</a></li>
    <li><a href="archivos.html" class="active">Archivos</a></li>
    <li><a href="proyectos.html">Proyectos</a></li>
    <li><a href="educacion.html">Educación</a></li>
  </ul>
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Buscar...">
    <select id="filterDate">
      <option value="todos">Todos los días</option>
      <option value="2025-10-18">18 de octubre</option>
      <option value="2025-10-12">12 de octubre</option>
    </select>
    <div id="searchResults"></div>
  </div>
</nav>

<main class="archivos-container">

  <section class="archivo-mes" data-mes="octubre">
    <h2>Octubre 2025</h2>

    <div class="archivo-dia" data-dia="2025-10-18">
      <h3><span class="flecha"></span>18 de octubre</h3>

      <div class="archivo-item">
        <h4>Actualización de la plataforma cívica</h4>
        <p>Se integraron las nuevas funciones de búsqueda y filtrado automático para mejorar la consulta de documentos.</p>
        <a href="archivo1.html" class="btn-ver">Ver documento</a>
        <span class="indicador">Archivo interno — categoría: innovación</span>
      </div>

      <button class="acordeon">Más detalles</button>
      <div class="panel">
        <p>Este archivo describe la evolución técnica de la plataforma municipal digital, incluyendo estructura y compatibilidad.</p>
      </div>
    </div>

    <div class="archivo-dia" data-dia="2025-10-12">
      <h3><span class="flecha"></span>12 de octubre</h3>

      <div class="archivo-item">
        <h4>Acta del consejo comunitario</h4>
        <p>Resumen de las decisiones sobre proyectos ambientales y apoyo a emprendimientos locales.</p>
        <a href="archivo2.html" class="btn-ver">Ver documento</a>
        <span class="indicador">Acta oficial — participación ciudadana</span>
      </div>

      <button class="acordeon">Ver resumen</button>
      <div class="panel">
        <p>Durante la reunión se aprobaron dos programas: Jardines Urbanos y Huertas Escolares, ambos con participación comunal.</p>
      </div>
    </div>
  </section>

</main>

<footer>
  <p>©2025 Hernavia — Plataforma cívica de Gachancipá</p>
</footer>

<script>
const searchInput = document.getElementById("searchInput");
const filterDate = document.getElementById("filterDate");
const dias = document.querySelectorAll(".archivo-dia");

searchInput.addEventListener("input", filtrar);
filterDate.addEventListener("change", filtrar);

function filtrar() {
  const texto = searchInput.value.toLowerCase();
  const fecha = filterDate.value;
  dias.forEach(dia => {
    const coincideFecha = fecha === "todos" || dia.dataset.dia === fecha;
    const coincideTexto = dia.textContent.toLowerCase().includes(texto);
    dia.style.display = coincideFecha && coincideTexto ? "block" : "none";
  });

  document.querySelectorAll(".archivo-mes").forEach(mes => {
    const visible = [...mes.querySelectorAll(".archivo-dia")].some(d => d.style.display === "block");
    mes.style.display = visible ? "block" : "none";
  });
}

const acordeones = document.querySelectorAll(".acordeon");
acordeones.forEach(btn => {
  btn.addEventListener("click", () => {
    const panel = btn.nextElementSibling;
    panel.style.display = panel.style.display === "block" ? "none" : "block";
  });
});
</script>

</body>
</html>

